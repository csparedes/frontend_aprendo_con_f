<section class="container mt-5">
  <form
    class="form"
    [formGroup]="userRegistrationForm"
    (ngSubmit)="getDataForm()"
  >
    <!--Role -->
    <fieldset>
      <legend>Selecciona tu Rol</legend>
      <div class="role">
        <input
          type="radio"
          id="profesor"
          name="role"
          formControlName="role"
          value="profesor"
          required
        />
        <label class="radio" for="profesor">Profesor</label>
        <input
          class="radio"
          type="radio"
          id="estudiante"
          name="role"
          formControlName="role"
          value="estudiante"
        />
        <label class="radio" for="estudiante">Estudiante</label>
        <p class="error" *ngIf="formValidator('role', 'required')">
          Rol es un Campo Requerido
        </p>
      </div>
    </fieldset>

    <!--User Name -->
    <label class="label" for="username">Nombre Usuario:</label>
    <input
      type="text"
      class="form-control input is-link"
      formControlName="username"
      id="username"
      placeholder="Ingrese su Nombre de Usuario"
    />
    <p class="error" *ngIf="formValidator('username', 'required')">
      Nombre de Usuario es un Campo Requerido
    </p>

    <!--Password -->
    <label class="label" for="password">Contraseña:</label>
    <div class="password-input-container">
      <input
        type="{{ showPassword ? 'text' : 'password' }}"
        class="form-control input is-link"
        formControlName="password"
        id="password"
        placeholder="Ingrese su Contraseña"
      />
      <button
        type="button"
        class="btn btn-link password-toggle"
        (click)="togglePasswordVisibility()"
      >
        <img
          [src]="
            showPassword
              ? './assets/images/hide-eye.JPG '
              : './assets/images/eye.JPG'
          "
        />
      </button>
    </div>
    <p class="error" *ngIf="formValidator('password', 'required')">
      Contraseña es un Campo Requerido
    </p>
    <p class="error" *ngIf="formValidator('password', 'pattern')">
      Formato Inválido: Una-Mayuscula, Una-Miniscula, Un-Digito, Un-Character
      Special y 8 Caracteres
    </p>

    <!--Email -->
    <label class="label" for="email">Email:</label>
    <input
      type="email"
      class="form-control input is-link"
      formControlName="email"
      id="email"
      placeholder="Ingrese su Email"
    />
    <p class="error" *ngIf="formValidator('email', 'required')">
      Email es un Campo Requerido
    </p>
    <p class="error" *ngIf="formValidator('email', 'pattern')">
      Formato de Email Inválido
    </p>

    <!--Name -->
    <label class="label" for="name">Nombre:</label>
    <input
      type="text"
      class="form-control input is-link"
      formControlName="name"
      id="name"
      placeholder="Ingrese su Nombre"
    />
    <p class="error" *ngIf="formValidator('name', 'required')">
      Nombre es un Campo Requerido
    </p>

    <!--Postal Code -->
    <label class="label" for="postal_code">Código Postal:</label>
    <input
      type="text"
      class="form-control input is-link"
      formControlName="postal_code"
      id="postal_code"
      placeholder="Ingrese su Código Postal"
    />
    <p class="error" *ngIf="formValidator('postal_code', 'required')">
      Código Postal es un Campo Requerido
    </p>
    <p class="error" *ngIf="formValidator('postal_code', 'pattern')">
      Formato de Código Postal Inválido. 5 Dígitos requeridos
    </p>

    <!--Country -->
    <label class="label" for="country">País:</label>
    <mat-select-country
      formControlName="country"
      id="country"
    ></mat-select-country>

    <!--City -->
    <label class="label" for="city">Ciudad:</label>
    <input
      type="text"
      class="form-control input is-link"
      formControlName="city"
      id="city"
      placeholder="Ingrese su Ciudad"
    />

    <!--Areas de Conocimiento-->
    <div *ngIf="userRegistrationForm.get('role')?.value === 'profesor'">
      <label class="label" for="knowledgeArea">Áreas de Conocimiento:</label>
      <input
        type="text"
        class="form-control input is-link"
        formControlName="knowledgeArea"
        id="knowledgeArea"
        placeholder="Ej: Matemática, Cálculo, etc"
      />
    </div>

    <!--Hourly Rate-->
    <div *ngIf="userRegistrationForm.get('role')?.value === 'profesor'">
      <label class="label" for="hourly_rate">Precio x Hora:</label>
      <input
        type="number"
        class="form-control input is-link"
        formControlName="hourly_rate"
        id="hourly_rate"
        placeholder="Ingrese el monto de sus servicios por hora"
      />
    </div>

    <!--Experiencia-->
    <div *ngIf="userRegistrationForm.get('role')?.value === 'profesor'">
      <label class="label" for="experience">Experiencia:</label>
      <input
        type="number"
        class="form-control input is-link"
        formControlName="experience"
        id="experience"
        placeholder="Ingrese sus años de experiencia"
      />
    </div>

    <!--Phone-->
    <div *ngIf="userRegistrationForm.get('role')?.value === 'profesor'">
      <label class="label" for="phone">Teléfono</label>
      <input
        type="text"
        class="form-control input is-link"
        formControlName="phone"
        id="phone"
        placeholder="Ingrese su número de teléfono"
      />
    </div>

    <!--Image -->
    <div *ngIf="userRegistrationForm.get('role')?.value === 'profesor'">
      <label class="label" for="imageUrl">Imagen:</label>
      <input
        type="text"
        class="form-control input is-link"
        formControlName="imageUrl"
        id="imageUrl"
        placeholder="Ingrese URL de su Imagen"
      />
    </div>

    <!--Description -->
    <div *ngIf="userRegistrationForm.get('role')?.value === 'profesor'">
      <label class="label" for="description">Descripción:</label>
      <textarea
        class="form-control input is-link"
        formControlName="description"
        id="description"
        placeholder="Ingrese descripción de su perfil"
      ></textarea>
    </div>

    <!--Status-->
    <input type="hidden" formControlName="status" />

    <!--Send Form -->
    <div class="btn-container">
      <button
        type="submit"
        class="btn btn-success m-3 btn-size"
        [disabled]="!userRegistrationForm.valid"
      >
        Enviar
      </button>
      <button
        class="btn btn-danger m-3 btn-size"
        [routerLink]="['/pages', 'home']"
      >
        Cancelar
      </button>
    </div>
  </form>
</section>
